class MyCalendarThree {
    TreeMap<Integer, Integer> tree;

    public MyCalendarThree() {
        tree = new TreeMap<>();
    }
    
    public int book(int start, int end) {
        if (tree.get(start) != null) {
            tree.put(start, tree.get(start) + 1);
        } else {
            tree.put(start, 1);
        }
        if (tree.get(end) != null) {
            tree.put(end, tree.get(end) - 1);
        } else {
            tree.put(end, -1);
        }
        
        int sum = 0, maxK = 0;        
        for(int c: tree.values()) {
            sum += c;
            maxK = Math.max(maxK, sum);
        }
        return maxK;
    }
}

/**
 * Your MyCalendarThree object will be instantiated and called as such:
 * MyCalendarThree obj = new MyCalendarThree();
 * int param_1 = obj.book(start,end);
 */
